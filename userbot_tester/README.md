# Userbot Tester

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç–µ—Ä –¥–ª—è AI-–±–æ—Ç–∞ –Ω–∞ –±–∞–∑–µ Telethon.

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç **–≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –≤ —á–∞—Ç–µ (–≤—Ö–æ–¥—è—â–∏–µ –∏ –∏—Å—Ö–æ–¥—è—â–∏–µ)
- –õ–æ–≥–∏—Ä—É–µ—Ç **—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –±–æ—Ç–∞ (—Å—Ç–∞—Ç—É—Å—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
- –§–∏–∫—Å–∏—Ä—É–µ—Ç **–æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–∞–π–ª–æ–≤** (–≥—Ä–∞—Ñ–∏–∫–∏, –æ—Ç—á—ë—Ç—ã)
- –ü–æ–∑–≤–æ–ª—è–µ—Ç **–æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è** –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
- –í–µ–¥—ë—Ç **—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–ª—É—á–∏ credentials

1. –ó–∞–π–¥–∏ –Ω–∞ https://my.telegram.org
2. –°–æ–∑–¥–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –ø–æ–ª—É—á–∏ `API_ID` –∏ `API_HASH`

### 2. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Å–µ—Å—Å–∏—é

```bash
pip install telethon
python generate_session.py
```

–í–≤–µ–¥–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ ‚Üí –∫–æ–¥ –∏–∑ Telegram ‚Üí –ø–æ–ª—É—á–∏—à—å `STRING_SESSION`.

### 3. –ù–∞—Å—Ç—Ä–æ–π .env

```bash
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏ —Å–≤–æ–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
```

### 4. –ó–∞–ø—É—Å—Ç–∏

```bash
# –°–æ–±—Ä–∞—Ç—å
docker compose --profile testing build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker compose --profile testing up -d

# –õ–æ–≥–∏
docker logs -f telegram-userbot-tester
```

## –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

```bash
# –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
./send.sh "@bot –ø—Ä–∏–≤–µ—Ç"

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
docker exec telegram-userbot-tester sh -c 'echo "@bot —Ç–µ—Å—Ç" > /app/userbot_logs/send.txt'
```

## –õ–æ–≥–∏

```
logs/
‚îú‚îÄ‚îÄ log_20260113.txt    # –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π
‚îî‚îÄ‚îÄ send.txt            # –§–∞–π–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (–≤—Ä–µ–º–µ–Ω–Ω—ã–π)
```

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞:
```
[15:30:01] [INFO] üì§ –Ø chat=-1001234567890 | @bot —Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∞—Ä—Ö–∏–≤–µ?
[15:30:02] [INFO] ü§ñ –ë–û–¢ chat=-1001234567890 | ‚è≥ –°–µ–∫—É–Ω–¥—É...
[15:30:04] [INFO] ‚úèÔ∏è –ë–û–¢ EDIT chat=-1001234567890 | üîç –ò—â—É...
[15:30:06] [INFO] ‚úèÔ∏è –ë–û–¢ EDIT chat=-1001234567890 | üìä –í –∞—Ä—Ö–∏–≤–µ 150 —Å–æ–æ–±—â–µ–Ω–∏–π
[15:30:07] [INFO] ü§ñ –ë–û–¢ chat=-1001234567890 | (–º–µ–¥–∏–∞) | üìÑ –î–æ–∫—É–º–µ–Ω—Ç: stats.xlsx
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞–º–∏

–ê–≥–µ–Ω—Ç—ã –º–æ–≥—É—Ç:
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ `send.sh`
2. –ß–∏—Ç–∞—Ç—å –ª–æ–≥–∏ –∏–∑ `logs/log_YYYYMMDD.txt`
3. –ü—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—Ç–∏–ª, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª —Å—Ç–∞—Ç—É—Å—ã, –æ—Ç–ø—Ä–∞–≤–∏–ª —Ñ–∞–π–ª—ã

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∫–æ–¥–µ:
```python
# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç
os.system('./send.sh "@bot –ø–æ—Å—Ç—Ä–æ–π –≥—Ä–∞—Ñ–∏–∫"')

# –ñ–¥—ë–º –∏ —á–∏—Ç–∞–µ–º –ª–æ–≥
time.sleep(10)
log = open("logs/log_20260113.txt").read()

# –ü—Ä–æ–≤–µ—Ä—è–µ–º
assert "ü§ñ –ë–û–¢" in log, "–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª"
assert "‚úèÔ∏è –ë–û–¢ EDIT" in log, "–ù–µ –±—ã–ª–æ —Å—Ç–∞—Ç—É—Å–æ–≤"
assert "üìÑ –î–æ–∫—É–º–µ–Ω—Ç" in log or "üì∑ –§–æ—Ç–æ" in log, "–§–∞–π–ª –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω"
```
